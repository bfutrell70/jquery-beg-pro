<!DOCTYPE html>
<html>

<head>
    <title>jQuery AJAX getting web APIs</title>
</head>

<body>
    <h1>jQuery AJAX APIs</h1>
    <label for="search">Enter Search text</label>
    <input type="text" placeholder="Search..." name="search" id="txtSearch">
    <input type="button" value="search" id="searchButton">
    <br>
    <div id="output">

    </div>
    <script src="../node_modules/jquery/dist/jquery.js"></script>
    <script>

        $(document).ready(function() {
            $('#searchButton').click(searchYoutube);
            // $('#searchButton2').click(searchWSP);
        })

        function searchYoutube() {
            var url = 'https://www.googleapis.com/youtube/v3/search';
            var searchText = encodeURI($('#txtSearch').val());
            $.ajax({
                url: url,
                dataType: 'json',
                type: 'GET',
                data: {
                    q: searchText,
                    part: 'snippet',
                    key: 'AIzaSyAoRJ_lJh1RmVR3nboH1GzHK8aKK-b1VvE',
                    maxResults: 25  //,
                    //pageToken: 'CBkQAA'
                }
            }).done(function(data) {
                var html = '';
                var nextPage = data.nextPageToken;
                var prevPage = data.prevPageToken;

                $.each(data['items'], function(index, value) {
                    console.log(value);
                    console.log(value.id.videoId);
                    console.log(value.snippet.title);
                    console.log(value.snippet.thumbnails.medium);

                })
                $('#output').html(html);
            })
        }

    </script>
</body>

</html>